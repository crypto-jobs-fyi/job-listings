import{p as ft,o as mt,l as yt,a as ht,i as ut,f as d,b as x,c as z,g as t,e as _t,d as c,h as gt,j as n,s as i,k as f,m,u as s,n as wt,q as xt,r as Lt,t as Ct,v as y,w as O,x as St,y as A,z as B,A as L,B as kt}from"./legacy-ChUOcWxy.js";var Ut=d('<tr class="svelte-1j9yr6f"><td colspan="4" class="svelte-1j9yr6f">Loading...</td></tr>'),Jt=d('<tr class="svelte-1j9yr6f"><td colspan="4" class="svelte-1j9yr6f">No results found.</td></tr>'),Rt=d('<img alt="logo" style="vertical-align:middle;width:20px;height:20px;margin-right:6px;border-radius:3px;"/>'),qt=d('<a target="_blank" rel="noopener noreferrer"><!> </a>'),zt=d("<span> </span>"),At=d('<tr class="svelte-1j9yr6f"><td class="svelte-1j9yr6f"><!></td><td class="svelte-1j9yr6f"> </td><td class="svelte-1j9yr6f"><!></td><td class="svelte-1j9yr6f"><!></td></tr>'),Bt=d('<main class="svelte-1j9yr6f"><h1 class="svelte-1j9yr6f">Crypto Job Listings</h1> <div class="search-bar svelte-1j9yr6f"><input type="text" placeholder="Search company..." style="padding:0.5rem; width:100%; max-width:180px;" class="svelte-1j9yr6f"/> <input type="text" placeholder="Search title..." style="padding:0.5rem; width:100%; max-width:180px;" class="svelte-1j9yr6f"/> <input type="text" placeholder="Search location..." style="padding:0.5rem; width:100%; max-width:180px;" class="svelte-1j9yr6f"/> <button class="new-jobs-btn svelte-1j9yr6f">New Jobs</button></div> <table class="svelte-1j9yr6f"><thead><tr><th class="company-col svelte-1j9yr6f">Company</th><th class="title-col svelte-1j9yr6f">Title</th><th class="location-col svelte-1j9yr6f">Location</th><th class="svelte-1j9yr6f">Link</th></tr></thead><tbody><!></tbody></table></main>');function Kt(Q,V){ft(V,!1);const C=m();let h=m([]),K=[],u=m(""),_=m(""),g=m(""),J=m(!1);mt(async()=>{const[a,o]=await Promise.all([fetch("https://raw.githubusercontent.com/crypto-jobs-fyi/crawler/refs/heads/main/jobs.json"),fetch("https://raw.githubusercontent.com/crypto-jobs-fyi/crawler/refs/heads/main/companies.json")]),v=await a.json();f(h,v.data.filter(S=>S.company&&S.location)),K=await o.json(),f(J,!0)});function R(a){const o=K.find(v=>v.company_name.toLowerCase()===a?.toLowerCase());return o?o.company_url:null}function N(a){const o=R(a);if(!o)return null;try{const{hostname:v}=new URL(o);return`https://www.google.com/s2/favicons?domain=${v}&sz=32`}catch{return null}}yt(()=>(t(h),t(u),t(_),t(g)),()=>{f(C,t(h).filter(a=>(!t(u)||a.company&&a.company.toLowerCase().includes(t(u).toLowerCase()))&&(!t(_)||a.location&&a.location.toLowerCase().includes(t(_).toLowerCase()))&&(!t(g)||a.title&&a.title.toLowerCase().includes(t(g).toLowerCase()))).map(a=>({...a,location:a.location?a.location.replace(/United States/g,"US").replace(/United Kingdom/g,"UK"):a.location})))}),ht(),ut();var j=Bt(),D=i(n(j),2),E=n(D),I=i(E,2),M=i(I,2),W=i(M,2),X=i(D,2),Y=i(n(X)),Z=n(Y);{var b=a=>{var o=Ut();c(a,o)},$=(a,o)=>{{var v=p=>{var k=Jt();c(p,k)},S=p=>{var k=wt(),tt=xt(k);Lt(tt,1,()=>t(C),St,(at,e)=>{var P=At(),T=n(P),et=n(T);{var st=r=>{var l=qt(),U=n(l);{var q=w=>{var H=Rt();y(pt=>B(H,"src",pt),[()=>(t(e),s(()=>N(t(e).company)))],A),c(w,H)};x(U,w=>{t(e),s(()=>N(t(e).company))&&w(q)})}var dt=i(U);y(w=>{B(l,"href",w),L(dt,` ${t(e),s(()=>t(e).company)??""}`)},[()=>(t(e),s(()=>R(t(e).company)))],A),c(r,l)},rt=r=>{var l=O();y(()=>L(l,(t(e),s(()=>t(e).company)))),c(r,l)};x(et,r=>{t(e),s(()=>R(t(e).company))?r(st):r(rt,!1)})}var F=i(T),lt=n(F),G=i(F),ot=n(G);{var nt=r=>{var l=zt(),U=n(l);y(q=>{B(l,"title",(t(e),s(()=>t(e).location))),L(U,`${q??""}â€¦`)},[()=>(t(e),s(()=>t(e).location.slice(0,24)))],A),c(r,l)},ct=r=>{var l=O();y(()=>L(l,(t(e),s(()=>t(e).location)))),c(r,l)};x(ot,r=>{t(e),s(()=>t(e).location&&t(e).location.length>24)?r(nt):r(ct,!1)})}var it=i(G),vt=n(it);Ct(vt,()=>(t(e),s(()=>t(e).link))),y(()=>L(lt,(t(e),s(()=>t(e).title)))),c(at,P)}),c(p,k)};x(a,p=>{t(C),s(()=>t(C).length===0)?p(v):p(S,!1)},o)}};x(Z,a=>{t(h),t(J),s(()=>t(h).length===0||!t(J))?a(b):a($,!1)})}z(E,()=>t(u),a=>f(u,a)),z(I,()=>t(g),a=>f(g,a)),z(M,()=>t(_),a=>f(_,a)),_t("click",W,()=>window.location.href="/new-jobs.html"),c(Q,j),gt()}kt(Kt,{target:document.getElementById("app")});
